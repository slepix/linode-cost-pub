linode_token = "your-linode-api-token"

region         = "us-east"
instance_type  = "g6-standard-2"   # 4 GB RAM minimum recommended
instance_label = "linode-cost-manager"

root_password = "change-me-strong-password"

ssh_authorized_keys = [
  "ssh-ed25519 AAAA... user@host",
]

# Public GitHub repo to clone and build on the VM
git_repo   = "https://github.com/youruser/linode-cost-manager"
git_branch = "main"

# Optional: set to your domain or public IP so the browser hits the right API URL.
# If left empty the VM auto-detects its public IP at boot.
# Examples: "https://yourdomain.com"  or  "http://1.2.3.4"
public_url = ""

# Optional: leave empty to skip DNS record creation
domain     = ""
domain_ttl = 300

# JWT / API secrets — leave empty to auto-generate (recommended).
# jwt_secret must be at least 32 characters if provided manually.
jwt_secret         = ""
refresh_api_secret = ""

# ---------------------------------------------------------------------------
# Managed PostgreSQL Database
# ---------------------------------------------------------------------------

# PostgreSQL engine version
db_engine_id = "postgresql/16"

# Linode plan for database nodes (g6-nanode-1 = 1 GB RAM, g6-standard-1 = 2 GB)
db_type = "g6-nanode-1"

# 1 = single node (dev/staging), 3 = HA cluster (production)
db_cluster_size = 1

# Additional CIDRs allowed to connect (your workstation IP for psql access, etc.)
# The app instance VPC IP is always added automatically.
db_extra_allow_list = []

# Maintenance window — Sunday at 02:00 UTC for 4 hours
db_updates_frequency   = "weekly"
db_updates_day_of_week = 7
db_updates_hour_of_day = 2
db_updates_duration    = 4

tags = ["linode-cost-manager"]
